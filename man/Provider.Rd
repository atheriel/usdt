% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/package.R
\name{Provider}
\alias{Provider}
\title{USDT Providers}
\description{
USDT Providers

USDT Providers
}
\details{
User-level Statically Defined Tracing (USDT) consists of a "provider" and one
or more "probes". Probes can be "fired", in which case R will emit an event
-- but only if a tracer (such as BPF on Linux or Dtrace on Solaris and macOS)
is listening.

USDT is a way to add opt-in runtime instrumentation to your application with
very little overhead.
}
\examples{

p <- Provider$new("my-r-code")
p$add_probe("add-name", integer(), character(), character())
p$enable()

# Fire an event. This will return FALSE, because nothing is
# listening at the moment.
p$fire("add-name", function() list(1L, "First", "Last"))

}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-new}{\code{Provider$new()}}
\item \href{#method-enable}{\code{Provider$enable()}}
\item \href{#method-disable}{\code{Provider$disable()}}
\item \href{#method-add_probe}{\code{Provider$add_probe()}}
\item \href{#method-fire}{\code{Provider$fire()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-new"></a>}}
\if{latex}{\out{\hypertarget{method-new}{}}}
\subsection{Method \code{new()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Provider$new(name)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{name}}{A name for the provider.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-enable"></a>}}
\if{latex}{\out{\hypertarget{method-enable}{}}}
\subsection{Method \code{enable()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Provider$enable()}\if{html}{\out{</div>}}
}

\subsection{Details}{
Enable the provider, which makes it possible to fire probes.
  New probes cannot be added while the provider is enabled.
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-disable"></a>}}
\if{latex}{\out{\hypertarget{method-disable}{}}}
\subsection{Method \code{disable()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Provider$disable()}\if{html}{\out{</div>}}
}

\subsection{Details}{
Disable the provider.
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-add_probe"></a>}}
\if{latex}{\out{\hypertarget{method-add_probe}{}}}
\subsection{Method \code{add_probe()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Provider$add_probe(name, ...)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{name}}{A name for the probe.}

\item{\code{...}}{R types for parameters that will be passed to the probe when
fired. For example, \code{integer()} or \code{character()}.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Add a probe. Probes generally refer to a specific event -- e.g.
  "request-start" or "item-updated" -- and can take up to six parameters.
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-fire"></a>}}
\if{latex}{\out{\hypertarget{method-fire}{}}}
\subsection{Method \code{fire()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Provider$fire(probe, fun)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{probe}}{The name of a probe.}

\item{\code{fun}}{A function that when called will return a list of parameters to
be emitted by R.}
}
\if{html}{\out{</div>}}
}
\subsection{Details}{
Fire a probe. If and only if a tracer is listening, this will
  call the passed function and cause R to emit an event containing the
  parameters it retuns. The number of parameters must match the call to
  \code{add_probe()}.
}

}
}
